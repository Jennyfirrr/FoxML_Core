# Non-Repainting Targets Test
# Comprehensive test of multiple non-repainting targets to establish honest baseline

experiment:
  name: non_repainting_targets_test
  description: "Test multiple non-repainting targets (forward returns, first_touch) to find honest baseline"

data:
  data_dir: data/data_labeled_v2/interval=5m
  symbols: [AAPL, MSFT, GOOGL, TSLA, NVDA]
  interval: 5m
  max_samples_per_symbol: 50000
  max_rows_per_symbol: 50000
  max_rows_train: 100000
  min_cs: 10

# Intelligent training settings
intelligent_training:
  auto_targets: false  # Disable auto-discovery - use manual target list below
  top_n_targets: 3
  max_targets_to_evaluate: 5
  auto_features: true
  top_m_features: 50
  strategy: single_task
  run_leakage_diagnostics: false
  manual_targets: [fwd_ret_60m, fwd_ret_30m, fwd_ret_120m, fw_ret_5m, fwd_ret_30m]  # Test multiple forward return horizons

targets:
  primary: fwd_ret_60m  # Primary target (for reference)

# Feature selection model families
feature_selection:
  model_families:
    - lightgbm
    - xgboost
    - random_forest
    - catboost
    - neural_network
    - lasso
    - mutual_information
    - univariate_selection

# Training model families (same as feature selection for consistency)
training:
  model_families:
    - lightgbm
    - xgboost
    - random_forest
    - catboost
    - neural_network
    - lasso
    - mutual_information
    - univariate_selection

# Decision configuration (SST: all values config-driven)
decisions:
  apply_mode: "dry_run"
  min_level_to_apply: 2
  use_bayesian: false
  bayesian:
    min_runs_for_learning: 3
    p_improve_threshold: 0.8
    min_expected_gain: 0.01
    reward_metric: "cs_auc"
    recency_decay: 0.95
    level_3_threshold: 0.8
    level_3_gain: 0.01
    level_2_threshold: 0.6
    level_2_gain: 0.005
    level_1_threshold: 0.4
    baseline_window: 10

# Parallel execution configuration
multi_target:
  parallel_targets: true
  skip_on_error: true
  save_summary: true

# Feature selection parallel execution
multi_model_feature_selection:
  parallel_symbols: true

# Threading/parallel worker configuration
threading:
  parallel:
    max_workers_process: 4
    max_workers_thread: 4
    enabled: true
